<style lang="scss">
  @import '../styles/variables.scss';
  .checklist--group {
    flex: 2;
  }
  .checklist--default{
    visibility: hidden;
    &:before{
      visibility: visible;
      content: '';
      border-radius: 4rpx;
      background-color: $black;
      opacity: 0.8;
      width:10px!important;
      height:10px!important;
      padding: 4px 12px;
    }
  }
  .checklist--default[checked]{
    &:before{
      background-color: $color-primary;
      background-image: url("https://up.img.heidiancdn.com/o_1c0o37aq312v91kk4mrdbobb0k0hecked.png");
      background-repeat:no-repeat;
      background-position:center;
      background-size: contain;
    }
  }
  .checklist--label{
    display: inline-block;
    margin-left:-18px;
  }
  .checklist--outer{
    display: block;
    margin-bottom:20rpx;
  }
</style>
<template>
  <radio-group @change="handleChange" class="checklist--group">
    <repeat for="{{choices}}" key="index" index="index" item="item">
      <view class="checklist--outer">
        <radio class="checklist--default" value="{{item.value}}" checked="{{currentchoice === item.value}}"/>
        <view class="checklist--label">{{item.name}}</view>
      </view>
    </repeat>
  </radio-group>
</template>
<script>
  import wepy from 'wepy'
  export default class CheckList extends wepy.component {
    props = {
      choices: {
        type: Array
      },
      currentchoice: {
        type: String,
        default: ''
      }
    }
    methods = {
      handleChange ({detail}) {
        this.$emit('toggle', detail)
      }
    }
  }
</script>
